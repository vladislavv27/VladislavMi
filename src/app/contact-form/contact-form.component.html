<form [formGroup]="newMessageForm" (ngSubmit)="onSubmit()" novalidate>
  <div class="form-group py-3">
    <label for="name">Name:</label>
    <input type="text" id="name" formControlName="name" class="form-control" />
    <div
      *ngIf="
        newMessageForm.get('name')!.hasError('required') &&
        newMessageForm.get('name')!.touched
      "
    >
      <small class="text-danger">Name is required</small>
    </div>
    <div
      *ngIf="
        newMessageForm.get('name')!.hasError('minlength') &&
        newMessageForm.get('name')!.touched
      "
    >
      <small class="text-danger">Name must be at least 3 characters long</small>
    </div>
  </div>

  <div class="form-group py-3">
    <label for="email">Email:</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      class="form-control"
    />
    <div
      *ngIf="
        newMessageForm.get('email')!.hasError('required') &&
        newMessageForm.get('email')!.touched
      "
    >
      <small class="text-danger">Email is required</small>
    </div>
    <div
      *ngIf="
        newMessageForm.get('email')!.hasError('email') &&
        newMessageForm.get('email')!.touched
      "
    >
      <small class="text-danger">Invalid email format</small>
    </div>
  </div>

  <div class="form-group py-3">
    <label for="message">Message:</label>
    <textarea
      id="message"
      formControlName="message"
      class="form-control"
      rows="4"
    ></textarea>
    <div
      *ngIf="
        newMessageForm.get('message')!.hasError('required') &&
        newMessageForm.get('message')!.touched
      "
    >
      <small class="text-danger">Message is required</small>
    </div>
    <div
      *ngIf="
        newMessageForm.get('message')!.hasError('minlength') &&
        newMessageForm.get('message')!.touched
      "
    >
      <small class="text-danger"
        >Message must be at least 10 characters long</small
      >
    </div>
  </div>

  <button type="submit" class="btna d-block mx-auto mt-3">Say Hello</button>
</form>
